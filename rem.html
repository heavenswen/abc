<!DOCTYPE html>
<html>

	<head>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
		<title>rem配合js实现自动适应</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<style type="text/css">
			* {
				padding: 0;
				margin: 0;
			}
			div,section{
				float: left;
			}
			div {
				width: 100px;
				height: 100px;
				background: #fcc;
				font-size:14px ;
			}
			.rem {
				width: 5.0rem;
				height: 5.0rem;
				background: yellow;
				font-size: 0.7rem;
			}
		</style>
	</head>

	<body>
		<h3><center>rem 和 js 自适应布局</center></h3>
		<div>标准 字号14px</div>
		<section class="rem">
		标准 字号14px
		</section>
		<div>标准 字号14px</div>
		<script type="text/javascript">
			//避开谷歌下最小12px的问题 ，尺寸320下5%，640下10%
			
			var docEl = document.documentElement,
				//当设备的方向变化（设备横向持或纵向持）此事件被触发。绑定此事件时，
				//注意现在当浏览器不支持orientationChange事件的时候我们绑定了resize 事件。
				//总来的来就是监听当然窗口的变化，一旦有变化就需要重新设置根字体的值
				resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
				recalc = function() {
					//设置根字体大小
					docEl.style.fontSize = 20 * (docEl.clientWidth / 320) + 'px';
					
				};

			//绑定浏览器旋转与加载 时
			window.addEventListener(resizeEvt,recalc, false);
			document.addEventListener('DOMContentLoaded', recalc, false);
		</script>
	</body>

</html>